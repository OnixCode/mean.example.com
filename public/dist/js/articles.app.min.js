var articlesApp=function(){return{load:function(){let e=window.location.hash.split("-");switch(e[0]){case"#create":document.getElementById("app").innerHTML='\n        <div class="card">\n          <div class="card-header clearfix">\n            <h2 class="h3 float-left">Create a New article</h2>\n            <div class="float-right">\n              <a href="#" class="btn btn-primary">Cancel</a>\n            </div>\n          </div>\n          <div class="card-body">\n            <form id="createarticle" class="card-body">\n              <div id="formMsg" class="alert alert-danger text-center">Your form has errors</div>\n\n              <div class="row">\n                <div class="form-group col-md-6">\n                  <label for="first_name">First Name</label>\n                  <input type="text" id="first_name" name="first_name" class="form-control" required>\n                </div>\n\n                <div class="form-group col-md-6">\n                  <label for="last_name">Last Name</label>\n                  <input type="text" id="last_name" name="last_name" class="form-control" required>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="form-group col-md-6">\n                  <label for="articlename">articlename</label>\n                  <input type="text" id="articlename" name="articlename" class="form-control" required>\n                </div>\n\n                <div class="form-group col-md-6">\n                  <label for="email">Email</label>\n                  <input type="email" id="email" name="email" class="form-control" required>\n                </div>\n              </div>\n\n              <div class="text-right">\n                <input type="submit" value="Submit" class="btn btn-lg btn-primary btn-sm-block">\n              </div>\n            </form>\n          </div>\n        </div>\n    ',function(e,n){let a=document.getElementById(e);a.addEventListener("submit",function(e){e.preventDefault();let t=new FormData(a),s=`${window.location.origin}${n}`,r=new XMLHttpRequest;r.open("POST",s),r.setRequestHeader("Content-Type","application/json; charset=UTF-8");let i={};t.forEach(function(e,n){i[n]=e}),r.send(JSON.stringify(i)),r.onload=function(){let e=JSON.parse(r.response);!0===e.success?window.location.hash=`#view-${e.article._id}`:document.getElementById("formMsg").style.display="block"}})}("createarticle","/api/articles");break;case"#view":!function(e){let n=`${window.location.origin}/api/articles/${e}`,a=new XMLHttpRequest;a.open("GET",n),a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.send(),a.onload=function(){let e=document.getElementById("app"),n=JSON.parse(a.response),t="";t=`<div class="card">\n        <div class="card-header clearfix">\n          <h2 class="h3 float-left">${n.article.first_name} ${n.article.last_name}</h2>\n          <div class="float-right">\n            <a href="#edit-${n.article._id}" class="btn btn-primary">Edit</a>\n          </div>\n        </div>\n        <div class="card-body">\n          <div>${n.article.articlename}</div>\n          <div>${n.article.email}</div>\n        </div>\n      </div>`,e.innerHTML=t}}(e[1]);break;case"#edit":!function(e){let n=`${window.location.origin}/api/articles/${e}`,a=new XMLHttpRequest;a.open("GET",n),a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.send(),a.onload=function(){let e=document.getElementById("app"),n=JSON.parse(a.response);var t=`\n        <div class="card">\n          <div class="card-header clearfix">\n            <h2 class="h3 float-left">Edit</h2>\n            <div class="float-right">\n              <a href="#" class="btn btn-primary">Cancel</a>\n            </div>\n          </div>\n          <div class="card-body">\n            <form id="editarticle" class="card-body">\n              <input type="hidden" id="_id" name="_id" value="${n.article._id}">\n              <div id="formMsg" class="alert alert-danger text-center">Your form has errors</div>\n\n              <div class="row">\n                <div class="form-group col-md-6">\n                  <label for="first_name">First Name</label>\n                  <input type="text" id="first_name" name="first_name" class="form-control" value="${n.article.first_name}" required>\n                </div>\n\n                <div class="form-group col-md-6">\n                  <label for="last_name">Last Name</label>\n                  <input type="text" id="last_name" name="last_name" class="form-control" value="${n.article.last_name}" required>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="form-group col-md-6">\n                  <label for="articlename">articlename</label>\n                  <input type="text" id="articlename" name="articlename" class="form-control" value="${n.article.articlename}" required>\n                </div>\n\n                <div class="form-group col-md-6">\n                  <label for="email">Email</label>\n                  <input type="email" id="email" name="email" class="form-control" value="${n.article.email}" required>\n                </div>\n              </div>\n\n              <div class="text-right">\n                <input type="submit" value="Submit" class="btn btn-lg btn-primary btn-sm-block">\n              </div>\n            </form>\n          </div>\n        </div>\n      `;e.innerHTML=t}}(e[1]);break;case"#delete":console.log("DELETE");break;default:!function(){let e=`${window.location.origin}/api/articles`,n=new XMLHttpRequest;n.open("GET",e),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(),n.onload=function(){let e=document.getElementById("app"),a=JSON.parse(n.response).articles,t="",s="";for(let e=0;e<a.length;e++)s+=`<tr>\n          <td>\n            <a href="#view-${a[e]._id}">${a[e].title}</a>\n          </td>\n          <td>${a[e].description}</td>\n          <td>${a[e].published}</td>\n        </tr>`;t=`<div class="card">\n        <div class="card-header clearfix">\n          <h2 class="h3 float-left">articles</h2>\n          <div class="float-right">\n            <a href="#create" class="btn btn-primary">New article</a>\n          </div>\n        </div>\n        <div class="table-responsive">\n          <table class="table table-striped table-hover table-bordered">\n            <thead>\n              <tr>\n                <td>Name</td>\n                <td>articlename</td>\n                <td>Email</td>\n              </tr>\n            </thead>\n            <tbody>${s}</tbody>\n          </table>\n        </div>\n      </div>`,e.innerHTML=t}}()}}}}();articlesApp.load(),window.addEventListener("hashchange",function(){articlesApp.load()});
